<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>TigonShip</title>
		<meta name="description" content="Ela Admin - HTML5 Admin Template">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	
		<link rel="apple-touch-icon" href="https://i.imgur.com/QRAUqs9.png">
		<link rel="shortcut icon" href="https://i.imgur.com/QRAUqs9.png">
		<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
		crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css">
	 <link rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"> 
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
		<link rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css">
	
		<link rel="stylesheet" th:href="@{/admin/css/cs-skin-elastic.css}">
		<link rel="stylesheet" th:href="@{/admin/css/style.css}">
	
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
		<!--AngularJS  -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
		<style>
	#modal .modal-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 15px 50px;
		border-bottom: 1px solid #dedede;
	}
	</style>
	</head>

<body ng-app="hanhkhach-app" ng-controller="hanhkhach-ctrl">
	<!-- Left Panel (menu)-->
	<div th:replace="~{admin/fragments_admin :: aside}"></div>
	<!-- /Left-panel -->

	<!--  Header   --->
	<div id="right-panel" class="right-panel">
		<div th:replace="~{admin/fragments_admin :: header}"></div>
	</div>
	<!---------------->
	<div id="right-panel" class="right-panel">
		<div class="content">
			<div class="animated fadeIn">
				<div class="row">

					<div class="col-md-12">
						<div class="card">
							<div class="card-header">
								<strong class="card-title">Danh sách Hành Khách</strong>
							</div>
							<div class="card-body">
								<table id="bootstrap-data-table" class="table table-striped table-bordered">
									<thead>
										<tr>
											<th>ID</th>
											<th>Tên</th>
											<th>Địa chỉ</th>
											<th>Email</th>
											<th>SDT</th>
											<th>Xem</th>
										</tr>
									</thead>

									<tbody>
										<tr ng-repeat="item in searchPager.items | filter: searchKeyword">
											<td>{{item.idhanhkhach}}</td>
											<td>{{item.hovaten}}</td>
											<td>{{item.diachi}}</td>
											<td>{{item.email}}</td>
											<td>{{item.sdt}}</td>
											<td>
												<button data-bs-toggle="modal" data-bs-target="#modal" ng-click="showDatVe(item.idhanhkhach)"
														class="btn btn-warning">Chi tiết</button>
											</td>
										</tr>
									</tbody>
								</table>
								<div class="text-center">
									<button type="button" ng-click="searchPager.first()"
										class="btn btn-danger">|<<</button>
									<button type="button" ng-click="searchPager.prev()"
										class="btn btn-primary"><<</button>
									 <button type="button" class="btn btn-success">{{searchPager.page}} of {{searchPager.count}}</button>
									<button type="button" ng-click="searchPager.next()"
										class="btn btn-primary">>></button>
									<button type="button" ng-click="searchPager.last()"
										class="btn btn-danger">>>|</button>
								</div>
							</div>
						</div>
					</div>

										<!-- Modal Body -->
					<!-- if you want to close by clicking outside the modal, delete the last endpoint:data-bs-backdrop and data-bs-keyboard -->
					<div class="modal fade" id="modal" tabindex="-1"
					data-bs-backdrop="static" data-bs-keyboard="false" role="dialog"
					aria-labelledby="modalTitleId" aria-hidden="true">
					<div
						class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg"
						role="document">
						<div class="modal-content">
							<div class="modal-header" >
								<h3 class="modal-title" id="modalTitleId">Lịch sử đặt vé</h3>
								<button type="button" class="btn-close" data-bs-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<div ng-repeat="dv in items.datve">
									<dl class="row">
										<dt class="col-sm-3">SDT</dt>
										<dd class="col-sm-3">{{dv.hanhkhach.sdt}}</dd> 
												
										<dt class="col-sm-3">Địa chỉ</dt>
										<dd class="col-sm-3">{{dv.hanhkhach.diachi}}</dd> 

										<dt class="col-sm-3">Số ghế</dt>
										<dd class="col-sm-3">{{dv.soghe}}</dd>
							
										<dt class="col-sm-3">Tuyến</dt>
										<dd class="col-sm-3">{{dv.lichtauchay.tuyen.tentuyen}}</dd>
									  
										<dt class="col-sm-3">Ngày đặt</dt>
										<dd class="col-sm-3">{{dv.ngaydat}}</dd>

										<dt class="col-sm-3 text-truncate">Loại vé</dt>
										<dd class="col-sm-3">{{dv.loaive.loaive}}</dd>

										<dt class="col-sm-3 text-truncate">Tàu</dt>
										<dd class="col-sm-3">{{dv.lichtauchay.tau.tentau}}</dd>

										<dt class="col-sm-3 text-truncate"></dt>
										<dd class="col-sm-3"></dd>

										<dt class="col-sm-3">Ngày đi/về</dt>
										<dd class="col-sm-5">{{dv.ngaydi}} / {{dv.ngayve}}</dd>
									</dl>
								</div>
								
							<!-- 	<table class="table">
								<thead>
									<tr style="background: #17bac5;">
										<th>Số ghế</th>
										<th>Tên tuyến</th>
										<th>Ngày đi</th>
										<th>Ngày về</th>
										<th>Ngày đặt</th>
										<th>Loại vé</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="dv in items.datve">
										<td>{{dv.soghe}}</td>
										<td>{{dv.lichtauchay.tuyen.tentuyen}}</td>
										<td>{{dv.ngaydi}}</td>
										<td>{{dv.ngayve}}</td>
										<td>{{dv.ngaydat}}</td>
										<td>{{dv.loaive.loaive}}</td>
										<td></td>
									</tr>
								</tbody>
							</table> -->
							</div>
							<div class="modal-footer text-center">
								<button type="button" class="btn btn-secondary"
									data-bs-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>

				</div>
			</div>
		</div>
		<!-- .animated -->
		<!-- Footer-->
		<div th:replace="~{admin/fragments_admin :: footer}"></div>
		<!-- Footer -->
	</div>
	<!-- .content -->










	<script>
		const myModal = new bootstrap.Modal(document
				.getElementById('modalId'), options)
	</script>
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
		integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
		crossorigin="anonymous">
		
	</script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
		integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
		crossorigin="anonymous">
		
	</script>
<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
<script th:src="@{/admin/js/main.js}"></script>
	<script th:src="@{/js/hanhKhach.js}"></script>

</body>

</html>