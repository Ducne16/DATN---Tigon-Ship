<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>TigonShip</title>
<meta name="description" content="Ela Admin - HTML5 Admin Template">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link class="jsbin" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" type="text/javascript"></script>
        
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<link rel="apple-touch-icon" href="https://i.imgur.com/QRAUqs9.png">
<link rel="shortcut icon" href="https://i.imgur.com/QRAUqs9.png">
<script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css">
<link rel="stylesheet" th:href="@{/admin/css/cs-skin-elastic.css}">
<link rel="stylesheet" th:href="@{/admin/css/style.css}">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
<!-- <link rel="stylesheet" th:href="@{/css/style1.css}"> -->
</head>

<body>
	<!-- Left Panel (menu)-->
	<div th:replace="~{admin/fragments_admin :: aside}"></div>
	<!-- /Left-panel -->
	<!--  Header   --->
	<div id="right-panel" class="right-panel">
		<div th:replace="~{admin/fragments_admin :: header}"></div>
	</div>
	<!---------------->
	<div id="right-panel" class="right-panel">
		<div class="content">
			<div class="animated fadeIn">
				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<div class="card-header">
								<h3>
									<strong class="card-title">HỒ SƠ CỦA TÔI</strong>
								</h3>
							</div>
							<div class="container-xl px-4 mt-4 main">
								<!-- Account page navigation-->
								<hr class="mt-0 mb-4">
								<div class="row">
									<div class="col-xl-4">
										<!-- Profile picture card-->
										<div class="card mb-4 mb-xl-0">
											<div class="card-header text-center">
												<h4>
													<strong class="card-title">Thông tin tài khoản</strong>
												</h4>
											</div>
											<div class="card-body">
												<div class="mb-3">
													<label class="form-label">Họ và tên:</label> 
													<input class="value col-xl-8 mb-8 form-control" type="text" th:value="${user.HOVATEN}">
												</div>
												<div class="row">
													<label class="form-label">Họ và tên :</label>
													<p class="small mb-1 col-xl-8 mb-8"
														th:text="${user.HOVATEN}"></p>
												</div>
												<div class="row">
													<label class="small mb-1 col-xl-6 mb-6">Số điện
														thoại :</label>
													<p class="small mb-1 col-xl-6 mb-6" th:text="${user.SDT}"></p>
												</div>
												<div class="row">
													<label class="small mb-1 col-xl-6 mb-6">Số
														CCCD/CMND :</label>
													<p class="small mb-1 col-xl-6 mb-6" th:text="${user.CCCD}"></p>
												</div>
												<div class="row">
													<label class="small mb-1 col-xl-4 mb-4">Địa chỉ :</label>
													<p class="small mb-1 col-xl-8 mb-8"
														th:text="${user.DIACHI}"></p>
												</div>
											</div>
										</div>
									</div>
									<div class="col-xl-8">
										<!-- Account details card-->
										<div class="card mb-4">
											<div class="card-header">
												<h4>
													<strong class="card-title">Chỉnh sửa tài khoản</strong>
												</h4>
											</div>
											<div class="card-body">
												<form th:action="@{/user/chinhsuataikhoan}" method="post">
													<!-- Form Group (username)-->
													<div class="row gx-3 mb-3">
														<div class="col-md-6">
															<label class="form-label">Họ
																và tên</label> <input class="form-control" id="inputUsername"
																type="text" name="hovaten"
																placeholder="Điền họ và tên của bạn"
																th:value="${user.HOVATEN}">
														</div>
														<div class="col-md-6">
															<label class="small mb-1" for="inputPhone">Số
																điện thoại : </label> <input class="form-control"
																id="inputPhone" type="tel" name="sdt"
																placeholder="Nhập số điện thoại" th:value="${user.SDT}">
														</div>
													</div>
													<!-- Form Row-->
													<div class="row gx-3 mb-3">
														<label class="medium" style="font-weight: 700;"
															for="inputFirstName">Thông tin địa chỉ : </label>
														<!-- Form Group (dia chi)-->
														<div class="col-md-4">
															<label class="small mb-1" for="inputFirstName">Tỉnh/Thành
																phố :</label> <select class="form-select form-select-md mb-3"
																name="city" id="city">
																<option value="" selected></option>
															</select>
														</div>
														<!-- Form Group (last name)-->
														<div class="col-md-4">
															<label class="small mb-1" for="inputFirstName">Quận/Huyện
																: </label> <select class="form-select form-select-md mb-3"
																name="district" id="district">
																<option value="" selected></option>
															</select>
														</div>
														<div class="col-md-4">
															<label class="small mb-1" for="inputFirstName">Phường/Xã
																:</label> <select class="form-select form-select-mb mb-3"
																name="ward" id="ward">
																<option value="" selected></option>
															</select>
														</div>
													</div>
													<!-- Form Row        -->
													<div class="row gx-3 mb-3">
														<div class="col-md-6">
															<label class="small mb-1" for="inputLocation">Địa
																chỉ cụ thể :(Số nhà, hẻm, ấp,...)</label> <input
																class="form-control form-control-sm" id="inputLocation"
																type="text" name="diachi"
																placeholder="Nhập địa chỉ cụ thể">
														</div>
														<div class="col-md-6">
															<label class="small mb-1" for="inputBirthday">Số
																căn cước công dân :</label> <input class="form-control"
																id="inputBirthday" type="text" name="cccd"
																placeholder="Nhập số căn cước công dân"
																th:value="${user.CCCD}">
														</div>
													</div>
													<!-- Save changes button-->
													<button style="text-align: right;" class="btn btn-primary">Cập
														nhật tài khoản</button>


												</form>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- .animated -->
		<!-- Footer-->
		<div th:replace="~{admin/fragments_admin :: footer}"></div>
		<!-- Footer -->
	</div>
	<!-- Scripts -->
	<script>
        //Lấy hình ảnh
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#blah')
                        .attr('src', e.target.result)
                        .width(170);
                };

                reader.readAsDataURL(input.files[0]);
            }
        }

        const host = "https://provinces.open-api.vn/api/";
        var callAPI = (api) => {
            return axios.get(api)
                .then((response) => {
                    renderData(response.data, "city");
                });
        }
        callAPI('https://provinces.open-api.vn/api/?depth=1');
        var callApiDistrict = (api) => {
            return axios.get(api)
                .then((response) => {
                    renderData(response.data.districts, "district");
                });
        }
        var callApiWard = (api) => {
            return axios.get(api)
                .then((response) => {
                    renderData(response.data.wards, "ward");
                });
        }

        var renderData = (array, select) => {
            let row = ' <option disable value="">Chọn</option>';
            array.forEach(element => {
                row += `<option data-id="${element.code}" value="${element.name}">${element.name}</option>`
            });
            document.querySelector("#" + select).innerHTML = row
        }

        $("#city").change(() => {
            callApiDistrict(host + "p/" + $("#city").find(':selected').data('id') + "?depth=2");
            printResult();
        });
        $("#district").change(() => {
            callApiWard(host + "d/" + $("#district").find(':selected').data('id') + "?depth=2");
            printResult();
        });
        $("#ward").change(() => {
            printResult();
        })

        var printResult = () => {
            if ($("#district").find(':selected').data('id') != "" && $("#city").find(':selected').data('id') != "" &&
                $("#ward").find(':selected').data('id') != "") {
                let result = $("#city option:selected").text() +
                    " | " + $("#district option:selected").text() + " | " +
                    $("#ward option:selected").text();
                $("#result").text(result)
            }

        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
	<script th:src="@{/admin/js/main.js}"></script>
</body>
</html>